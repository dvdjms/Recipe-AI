{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, HostListener, ViewChild } from '@angular/core';\nimport { FoodService } from '../food-search/food.service';\nlet FoodSearchComponent = class FoodSearchComponent {\n  constructor(foodService) {\n    this.foodService = foodService;\n    this.foods = [];\n    this.selectedFood = [];\n    this.searchContext = '';\n    this.ingredients = '';\n    this.inputValue = '';\n  }\n  // ngOnInit() {\n  //   console.log('I want a recipe with the following ingredients: ')\n  // }\n  getData(startingLetters) {\n    console.log(startingLetters);\n    this.foodService.getInfo().subscribe(data => {\n      this.foods = data.filter(food => food.FOOD_NAME.trim().toLowerCase().startsWith(startingLetters)).slice(0, 10);\n      if (startingLetters === '') {\n        this.foods = [];\n      }\n    });\n  }\n  onKeyPressMove(event) {\n    const pressedKey = event.key.toLowerCase();\n    if ((event.keyCode < 65 || event.keyCode > 90) && event.keyCode !== 8) {\n      event.preventDefault();\n    } else if (pressedKey.length > 1) {\n      this.searchContext = this.searchContext.slice(pressedKey.length - pressedKey.length, -1);\n    } else {\n      this.searchContext += pressedKey;\n    }\n    this.getData(this.searchContext);\n  }\n  addFoodItem(foodId) {\n    for (let i = 0; i < this.foods.length; i++) {\n      if (foodId === this.foods[i].ID) {\n        this.selectedFood.push(this.foods[i].FOOD_NAME);\n      }\n    }\n  }\n  removeFoodItem(index) {\n    this.selectedFood.splice(index, 1);\n  }\n  removeAllFood() {\n    this.selectedFood = [];\n  }\n  onSubmitIngredients() {\n    for (let i = 0; i < this.selectedFood.length; i++) {\n      this.ingredients += ', ' + this.selectedFood[i];\n    }\n    console.log(`I want a recipe with the following ingredients${this.ingredients}.`);\n  }\n  onClick(event) {\n    if (!this.container.nativeElement.contains(event.target)) {\n      // Click occurred outside of the container, clear the input value\n      this.inputValue = '';\n    }\n  }\n};\n__decorate([ViewChild('container')], FoodSearchComponent.prototype, \"container\", void 0);\n__decorate([HostListener('document:click', ['$event'])], FoodSearchComponent.prototype, \"onClick\", null);\nFoodSearchComponent = __decorate([Component({\n  selector: 'app-food-search',\n  templateUrl: './food-search.component.html',\n  styleUrls: ['./food-search.component.css'],\n  providers: [FoodService],\n  template: '<h1>Hello World!</h1>'\n})], FoodSearchComponent);\nexport { FoodSearchComponent };","map":{"version":3,"mappings":"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","names":["Component","HostListener","ViewChild","FoodService","FoodSearchComponent","constructor","foodService","getData","startingLetters","console","log","getInfo","subscribe","data","foods","filter","food","FOOD_NAME","trim","toLowerCase","startsWith","slice","onKeyPressMove","event","pressedKey","key","keyCode","preventDefault","length","searchContext","addFoodItem","foodId","i","ID","selectedFood","push","removeFoodItem","index","splice","removeAllFood","onSubmitIngredients","ingredients","onClick","container","nativeElement","contains","target","inputValue","__decorate","selector","templateUrl","styleUrls","providers","template"],"sourceRoot":"","sources":["/Users/dvdjms/Cezanne/RecipeRevel/ClientApp/src/app/food-search/food-search.component.ts"],"sourcesContent":["import { Component, ElementRef, HostListener, ViewChild } from '@angular/core';\nimport { FoodService } from '../food-search/food.service';\n\n@Component({\n  selector: 'app-food-search',\n  templateUrl: './food-search.component.html',\n  styleUrls: ['./food-search.component.css'],\n  providers: [FoodService],\n  template: '<h1>Hello World!</h1>'\n})\n\n\nexport class FoodSearchComponent {\n  static onSubmitIngredients: any;\n\n  constructor( private foodService:FoodService) {\n   \n  }\n\n  foods: any[] = [];\n  selectedFood: any[] = [];\n  searchContext = '';  \n  ingredients = ''; \n  inputValue: string = '';\n  // ngOnInit() {\n  //   console.log('I want a recipe with the following ingredients: ')\n  // }\n\n  getData(startingLetters: string) {\n    console.log(startingLetters)\n    this.foodService.getInfo().subscribe(data => {\n      this.foods = data\n      .filter(food => food.FOOD_NAME.trim().toLowerCase().startsWith(startingLetters))\n      .slice(0, 10);\n\n      if (startingLetters === '') {\n        this.foods = [];\n      }\n    });\n  }\n\n\n  onKeyPressMove(event: KeyboardEvent) {\n    const pressedKey = event.key.toLowerCase();\n\n    if ((event.keyCode < 65 || event.keyCode > 90) && event.keyCode !== 8) {\n      event.preventDefault();\n    }\n    else if (pressedKey.length > 1) {\n      this.searchContext = this.searchContext.slice(pressedKey.length - pressedKey.length, -1);\n    }\n    else {\n      this.searchContext += pressedKey;\n    }\n    this.getData(this.searchContext);\n\n  }\n\n\n  addFoodItem(foodId: string) {\n    for(let i = 0; i < this.foods.length; i++){\n      if (foodId === this.foods[i].ID){\n        this.selectedFood.push(this.foods[i].FOOD_NAME)\n      }\n    }\n  }\n\n  removeFoodItem(index: number) {\n    this.selectedFood.splice(index, 1);\n  }\n\n  removeAllFood() {\n    this.selectedFood = []\n  }\n\n  onSubmitIngredients() {\n    for(let i = 0; i < this.selectedFood.length; i++){\n      this.ingredients += ', ' + this.selectedFood[i];\n    }\n    console.log(`I want a recipe with the following ingredients${this.ingredients}.`);\n  }\n\n  @ViewChild('container') container: ElementRef;\n  @HostListener('document:click', ['$event'])\n  onClick(event: Event) {\n    if (!this.container.nativeElement.contains(event.target)) {\n      // Click occurred outside of the container, clear the input value\n      this.inputValue = '';\n    }\n  }\n\n\n\n\n}\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}