{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, HostListener, ViewChild } from '@angular/core';\nimport { FoodService } from '../food-search/food.service';\nlet FoodSearchComponent = class FoodSearchComponent {\n  constructor(foodService) {\n    this.foodService = foodService;\n    this.foods = [];\n    this.selectedFood = [];\n    this.searchContext = '';\n    this.ingredients = '';\n  }\n  getData(startingLetters) {\n    console.log(startingLetters);\n    this.foodService.getInfo().subscribe(data => {\n      this.foods = data.filter(food => food.FOOD_NAME.trim().toLowerCase().startsWith(startingLetters)).slice(0, 10);\n      if (startingLetters === '') {\n        this.foods = [];\n      }\n    });\n  }\n  // onKeyPressMove(event: KeyboardEvent) {\n  //   event.stopPropagation();\n  //   const pressedKey = event.key.toLowerCase();\n  //   if ((event.keyCode < 65 || event.keyCode > 90) && event.keyCode !== 8) {\n  //     event.preventDefault();\n  //   }\n  //   else if (pressedKey.length > 1) {\n  //     this.searchContext = this.searchContext.slice(pressedKey.length - pressedKey.length, -1);\n  //   }\n  //   else {\n  //     this.searchContext += pressedKey;\n  //   }\n  //   this.getData(this.searchContext);\n  // }\n  addFoodItem(foodId) {\n    for (let i = 0; i < this.foods.length; i++) {\n      if (foodId === this.foods[i].ID) {\n        this.selectedFood.push(this.foods[i].FOOD_NAME);\n      }\n    }\n  }\n  removeFoodItem(index) {\n    this.selectedFood.splice(index, 1);\n  }\n  removeAllFood() {\n    this.selectedFood = [];\n  }\n  onSubmitIngredients() {\n    for (let i = 0; i < this.selectedFood.length; i++) {\n      this.ingredients += ', ' + this.selectedFood[i];\n    }\n    console.log(`I want a recipe with the following ingredients${this.ingredients}.`);\n  }\n  onClick(event) {\n    if (!this.container.nativeElement.contains(event.target)) {\n      this.searchContext = '';\n      this.foods = [];\n    }\n  }\n};\n__decorate([ViewChild('container')], FoodSearchComponent.prototype, \"container\", void 0);\n__decorate([HostListener('document:click', ['$event'])], FoodSearchComponent.prototype, \"onClick\", null);\nFoodSearchComponent = __decorate([Component({\n  selector: 'app-food-search',\n  templateUrl: './food-search.component.html',\n  styleUrls: ['./food-search.component.css'],\n  providers: [FoodService],\n  template: '<h1>Hello World!</h1>'\n})], FoodSearchComponent);\nexport { FoodSearchComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAcC,YAAY,EAAEC,SAAS,QAAQ,eAAe;AAC9E,SAASC,WAAW,QAAQ,6BAA6B;AAWlD,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAG9BC,YAAqBC,WAAuB;IAAvB,gBAAW,GAAXA,WAAW;IAIhC,UAAK,GAAU,EAAE;IACjB,iBAAY,GAAU,EAAE;IACxB,kBAAa,GAAG,EAAE;IAClB,gBAAW,GAAG,EAAE;EALhB;EAQAC,OAAO,CAACC,eAAuB;IAC7BC,OAAO,CAACC,GAAG,CAACF,eAAe,CAAC;IAC5B,IAAI,CAACF,WAAW,CAACK,OAAO,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MAC1C,IAAI,CAACC,KAAK,GAAGD,IAAI,CAChBE,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,SAAS,CAACC,IAAI,EAAE,CAACC,WAAW,EAAE,CAACC,UAAU,CAACZ,eAAe,CAAC,CAAC,CAC/Ea,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;MAEb,IAAIb,eAAe,KAAK,EAAE,EAAE;QAC1B,IAAI,CAACM,KAAK,GAAG,EAAE;;IAEnB,CAAC,CAAC;EACJ;EAGA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EAGAQ,WAAW,CAACC,MAAc;IACxB,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACV,KAAK,CAACW,MAAM,EAAED,CAAC,EAAE,EAAC;MACxC,IAAID,MAAM,KAAK,IAAI,CAACT,KAAK,CAACU,CAAC,CAAC,CAACE,EAAE,EAAC;QAC9B,IAAI,CAACC,YAAY,CAACC,IAAI,CAAC,IAAI,CAACd,KAAK,CAACU,CAAC,CAAC,CAACP,SAAS,CAAC;;;EAGrD;EAEAY,cAAc,CAACC,KAAa;IAC1B,IAAI,CAACH,YAAY,CAACI,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;EACpC;EAEAE,aAAa;IACX,IAAI,CAACL,YAAY,GAAG,EAAE;EACxB;EAEAM,mBAAmB;IACjB,KAAI,IAAIT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACG,YAAY,CAACF,MAAM,EAAED,CAAC,EAAE,EAAC;MAC/C,IAAI,CAACU,WAAW,IAAI,IAAI,GAAG,IAAI,CAACP,YAAY,CAACH,CAAC,CAAC;;IAEjDf,OAAO,CAACC,GAAG,CAAC,iDAAiD,IAAI,CAACwB,WAAW,GAAG,CAAC;EACnF;EAIAC,OAAO,CAACC,KAAY;IAClB,IAAI,CAAC,IAAI,CAACC,SAAS,CAACC,aAAa,CAACC,QAAQ,CAACH,KAAK,CAACI,MAAM,CAAC,EAAE;MACxD,IAAI,CAACC,aAAa,GAAG,EAAE;MACvB,IAAI,CAAC3B,KAAK,GAAG,EAAE;;EAEnB;CAKD;AAZyB4B,YAAvBxC,SAAS,CAAC,WAAW,CAAC,sDAAwB;AAE/CwC,YADCzC,YAAY,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,CAAC,kDAM1C;AA3EUG,mBAAmB,eAT/BJ,SAAS,CAAC;EACT2C,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B,CAAC;EAC1CC,SAAS,EAAE,CAAC3C,WAAW,CAAC;EACxB4C,QAAQ,EAAE;CACX,CAAC,GAGW3C,mBAAmB,CAgF/B;SAhFYA,mBAAmB","names":["Component","HostListener","ViewChild","FoodService","FoodSearchComponent","constructor","foodService","getData","startingLetters","console","log","getInfo","subscribe","data","foods","filter","food","FOOD_NAME","trim","toLowerCase","startsWith","slice","addFoodItem","foodId","i","length","ID","selectedFood","push","removeFoodItem","index","splice","removeAllFood","onSubmitIngredients","ingredients","onClick","event","container","nativeElement","contains","target","searchContext","__decorate","selector","templateUrl","styleUrls","providers","template"],"sourceRoot":"","sources":["/Users/dvdjms/Cezanne/RecipeRevel/ClientApp/src/app/food-search/food-search.component.ts"],"sourcesContent":["import { Component, ElementRef, HostListener, ViewChild } from '@angular/core';\nimport { FoodService } from '../food-search/food.service';\n\n@Component({\n  selector: 'app-food-search',\n  templateUrl: './food-search.component.html',\n  styleUrls: ['./food-search.component.css'],\n  providers: [FoodService],\n  template: '<h1>Hello World!</h1>'\n})\n\n\nexport class FoodSearchComponent {\n  static onSubmitIngredients: any;\n\n  constructor( private foodService:FoodService) {\n   \n  }\n\n  foods: any[] = [];\n  selectedFood: any[] = [];\n  searchContext = '';  \n  ingredients = ''; \n\n\n  getData(startingLetters: string) {\n    console.log(startingLetters)\n    this.foodService.getInfo().subscribe(data => {\n      this.foods = data\n      .filter(food => food.FOOD_NAME.trim().toLowerCase().startsWith(startingLetters))\n      .slice(0, 10);\n\n      if (startingLetters === '') {\n        this.foods = [];\n      }\n    });\n  }\n\n\n  // onKeyPressMove(event: KeyboardEvent) {\n  //   event.stopPropagation();\n  //   const pressedKey = event.key.toLowerCase();\n\n  //   if ((event.keyCode < 65 || event.keyCode > 90) && event.keyCode !== 8) {\n  //     event.preventDefault();\n  //   }\n  //   else if (pressedKey.length > 1) {\n  //     this.searchContext = this.searchContext.slice(pressedKey.length - pressedKey.length, -1);\n  //   }\n  //   else {\n  //     this.searchContext += pressedKey;\n  //   }\n  //   this.getData(this.searchContext);\n\n  // }\n\n\n  addFoodItem(foodId: string) {\n    for(let i = 0; i < this.foods.length; i++){\n      if (foodId === this.foods[i].ID){\n        this.selectedFood.push(this.foods[i].FOOD_NAME)\n      }\n    }\n  }\n\n  removeFoodItem(index: number) {\n    this.selectedFood.splice(index, 1);\n  }\n\n  removeAllFood() {\n    this.selectedFood = []\n  }\n\n  onSubmitIngredients() {\n    for(let i = 0; i < this.selectedFood.length; i++){\n      this.ingredients += ', ' + this.selectedFood[i];\n    }\n    console.log(`I want a recipe with the following ingredients${this.ingredients}.`);\n  }\n\n  @ViewChild('container') container!: ElementRef;\n  @HostListener('document:click', ['$event'])\n  onClick(event: Event) {\n    if (!this.container.nativeElement.contains(event.target)) {\n      this.searchContext = '';\n      this.foods = [];\n    }\n  }\n\n\n\n\n}\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}