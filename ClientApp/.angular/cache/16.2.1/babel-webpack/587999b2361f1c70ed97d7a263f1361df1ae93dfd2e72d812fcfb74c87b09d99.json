{"ast":null,"code":"var _class;\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\n// @Injectable({\n//       providedIn: 'root'\n//     })\n// export class FoodService {\n//       genericFood = ('assets/generic_food.csv');\n//       constructor(private http: HttpClient) {}\n//       getInfo() {\n//             console.log('this', this.genericFood)\n//             return this.http.get(this.genericFood, {responseType: 'text'})\n//       }\n// }\nexport class FoodService {\n  constructor(http) {\n    this.http = http;\n    this.genericFoodUrl = 'assets/generic_food.csv';\n  }\n  getInfo() {\n    return this.http.get(this.genericFoodUrl, {\n      responseType: 'text'\n    }).pipe(map(csvData => this.parseCsvToJson(csvData)));\n  }\n  parseCsvToJson(csvData) {\n    const lines = csvData.split('\\n');\n    const result = [];\n    const csvHeaders = lines[0].split(',');\n    for (let i = 1; i < lines.length; i++) {\n      const obj = {};\n      const currentLine = lines[i].split(',');\n      for (let j = 0; j < csvHeaders.length; j++) {\n        obj[csvHeaders[j]] = currentLine[j];\n      }\n      result.push(obj);\n    }\n    return result;\n  }\n}\n_class = FoodService;\n_class.ɵfac = function FoodService_Factory(t) {\n  return new (t || _class)(i0.ɵɵinject(i1.HttpClient));\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["map","FoodService","constructor","http","genericFoodUrl","getInfo","get","responseType","pipe","csvData","parseCsvToJson","lines","split","result","csvHeaders","i","length","obj","currentLine","j","push","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/Users/dvdjms/Cezanne/RecipeRevel/ClientApp/src/app/food-search/food.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { map } from 'rxjs/operators';\n\n// @Injectable({\n//       providedIn: 'root'\n//     })\n\n\n// export class FoodService {\n\n//       genericFood = ('assets/generic_food.csv');\n\n//       constructor(private http: HttpClient) {}\n\n//       getInfo() {\n//             console.log('this', this.genericFood)\n//             return this.http.get(this.genericFood, {responseType: 'text'})\n//       }\n// }\n\n\n@Injectable({\n      providedIn: 'root'\n    })\n\n    \n    export class FoodService {\n    \n      genericFoodUrl = 'assets/generic_food.csv';\n    \n      constructor(private http: HttpClient) {}\n    \n      getInfo() {\n        return this.http.get(this.genericFoodUrl, { responseType: 'text' })\n          .pipe(\n            map(csvData => this.parseCsvToJson(csvData))\n          );\n      }\n    \n      private parseCsvToJson(csvData: string): any[] {\n        const lines = csvData.split('\\n');\n        const result: Record<string, any>[] = [];\n        const csvHeaders = lines[0].split(',');\n    \n        for (let i = 1; i < lines.length; i++) {\n          const obj: Record<string, any> = {};\n          const currentLine = lines[i].split(',');\n    \n          for (let j = 0; j < csvHeaders.length; j++) {\n            obj[csvHeaders[j]] = currentLine[j];\n          }\n    \n          result.push(obj);\n        }\n    \n        return result;\n      }\n    }\n    "],"mappings":";AAEA,SAASA,GAAG,QAAQ,gBAAgB;;;AAEpC;AACA;AACA;AAGA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAQI,OAAM,MAAOC,WAAW;EAItBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFxB,KAAAC,cAAc,GAAG,yBAAyB;EAEH;EAEvCC,OAAOA,CAAA;IACL,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAC,IAAI,CAACF,cAAc,EAAE;MAAEG,YAAY,EAAE;IAAM,CAAE,CAAC,CAChEC,IAAI,CACHR,GAAG,CAACS,OAAO,IAAI,IAAI,CAACC,cAAc,CAACD,OAAO,CAAC,CAAC,CAC7C;EACL;EAEQC,cAAcA,CAACD,OAAe;IACpC,MAAME,KAAK,GAAGF,OAAO,CAACG,KAAK,CAAC,IAAI,CAAC;IACjC,MAAMC,MAAM,GAA0B,EAAE;IACxC,MAAMC,UAAU,GAAGH,KAAK,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;IAEtC,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,KAAK,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,MAAME,GAAG,GAAwB,EAAE;MACnC,MAAMC,WAAW,GAAGP,KAAK,CAACI,CAAC,CAAC,CAACH,KAAK,CAAC,GAAG,CAAC;MAEvC,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,UAAU,CAACE,MAAM,EAAEG,CAAC,EAAE,EAAE;QAC1CF,GAAG,CAACH,UAAU,CAACK,CAAC,CAAC,CAAC,GAAGD,WAAW,CAACC,CAAC,CAAC;;MAGrCN,MAAM,CAACO,IAAI,CAACH,GAAG,CAAC;;IAGlB,OAAOJ,MAAM;EACf;;SA9BWZ,WAAW;;mBAAXA,MAAW,EAAAoB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;;SAAXvB,MAAW;EAAAwB,OAAA,EAAXxB,MAAW,CAAAyB,IAAA;EAAAC,UAAA,EAJV;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}